<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.bed2efcca611a7619966.css">@import url(https://fonts.googleapis.com/css?family=Bitter:400,400i|Maven+Pro:400,500,700|Open+Sans:400,400i,600,600i,700,700i&display=swap);nav{background-color:hsla(0,0%,100%,.9)!important}.uk-navbar-container a{font-family:Maven Pro,Helvetica,sans-serif!important;font-size:.8em!important;min-width:120px;text-align:center}.uk-navbar-container a.uk-active{color:#333;font-weight:600;text-decoration:overline}.anim-nav-container{position:fixed;top:0;left:0;z-index:2;display:grid;grid-template-columns:repeat(1,minmax(100px,1fr));grid-gap:1px;padding:0;cursor:pointer;will-change:width,height}.anim-nav-item{width:100%;height:100%;background:#000;will-change:transform}a{cursor:pointer!important}.uk-navbar-container{height:60px!important;margin:0!important;padding:0!important}nav img{min-width:60px}nav .uk-navbar-item{min-height:65px}nav .uk-navbar-toggle,nav li a{min-height:60px!important}a.home-icon{color:#888!important}a.hide-home-icon{display:none!important}#modal-root{position:fixed;z-index:999}.modal-background{background-color:rgba(0,0,0,.35);position:fixed;top:0;height:100vh;width:100vw;z-index:1}.modal-container{display:flex;flex-direction:column;justify-content:flex-start;height:100vh}.fullscreen-card .uk-card{padding-top:24px!important;height:100%;display:flex;flex-direction:column;justify-content:center}.fullscreen-card .uk-card-body{height:85%;overflow-y:scroll!important}.notification-card .uk-card{position:relative;display:flex;flex-direction:column;justify-content:space-around;border-radius:4px;margin:auto 24px}.modal-container .uk-card-footer{position:absolute;background-color:#fff;height:32px;bottom:24px;left:0;right:0}.modal-close-button{position:absolute;z-index:5;right:10px}.fullscreen-card .modal-close-button{top:55px}.notification-card .modal-close-button{top:10px}body{margin:0;position:relative}.uk-background-primary{background-color:#49839a!important}.uk-background-secondary{background-color:#37474f!important}@media (min-width:640px){.uk-margin-remove-left\@s{margin-left:0!important}.uk-margin-remove-right\@s{margin-right:0!important}.uk-margin-right\@s{margin-right:20px!important}.uk-margin-left\@s{margin-left:20px!important}.uk-margin-small-top\@s{margin-top:10px!important}.uk-margin-small-bottom\@s{margin-bottom:10px!important}.uk-margin-small-right\@s{margin-right:10px!important}.uk-margin-small-left\@s{margin-left:10px!important}.uk-margin-medium-top\@s{margin-top:40px!important}.uk-margin-medium-bottom\@s{margin-bottom:40px!important}.uk-margin-medium-right\@s{margin-right:40px!important}.uk-margin-medium-left\@s{margin-left:40px!important}.uk-margin-large-top\@s{margin-top:70px!important}.uk-margin-large-bottom\@s{margin-bottom:70px!important}.uk-margin-large-left\@s{margin-left:70px!important}.uk-margin-large-right\@s{margin-right:70px!important}}@media (min-width:960px){.uk-margin-remove-left\@m{margin-left:0!important}.uk-margin-remove-right\@m{margin-right:0!important}.uk-margin-small-top\@m{margin-top:10px!important}.uk-margin-small-bottom\@m{margin-bottom:10px!important}.uk-margin-medium-top\@m{margin-top:40px!important}.uk-margin-medium-bottom\@m{margin-bottom:40px!important}.uk-margin-large-top\@m{margin-top:70px!important}.uk-margin-large-bottom\@m{margin-bottom:70px!important}.uk-margin-medium-left\@m{margin-left:40px!important}.uk-margin-medium-right\@m{margin-right:40px!important}.uk-margin-large-left\@m{margin-left:70px!important}.uk-margin-large-right\@m{margin-right:70px!important}}@media (min-width:1200px){.uk-margin-remove-left\@l{margin-left:0!important}.uk-margin-remove-right\@l{margin-right:0!important}.uk-margin-small-top\@l{margin-top:10px!important}.uk-margin-small-bottom\@l{margin-bottom:10px!important}.uk-margin-medium-top\@l{margin-top:40px!important}.uk-margin-medium-bottom\@l{margin-bottom:40px!important}.uk-margin-large-top\@l{margin-top:70px!important}.uk-margin-large-bottom\@l{margin-bottom:70px!important}}@media (min-width:640px){.uk-padding-remove-left\@s{padding-left:0!important}.uk-padding-remove-right\@s{padding-right:0!important}.uk-padding-small-top\@s{padding-top:10px!important}.uk-padding-small-bottom\@s{padding-bottom:10px!important}.uk-padding-medium-top\@s{padding-top:40px!important}.uk-padding-medium-bottom\@s{padding-bottom:40px!important}.uk-padding-large-top\@s{padding-top:70px!important}.uk-padding-large-bottom\@s{padding-bottom:70px!important}}@media (min-width:960px){.uk-padding-remove-left\@m{padding-left:0!important}.uk-padding-remove-right\@m{padding-right:0!important}.uk-padding-small-top\@m{padding-top:10px!important}.uk-padding-small-bottom\@m{padding-bottom:10px!important}.uk-padding-medium-top\@m{padding-top:40px!important}.uk-padding-medium-bottom\@m{padding-bottom:40px!important}.uk-padding-large-top\@m{padding-top:70px!important}.uk-padding-large-bottom\@m{padding-bottom:70px!important}}@media (min-width:1200px){.uk-padding-remove-left\@l{padding-left:0!important}.uk-padding-remove-right\@l{padding-right:0!important}.uk-padding-small-top\@l{padding-top:10px!important}.uk-padding-small-bottom\@l{padding-bottom:10px!important}.uk-padding-medium-top\@l{padding-top:40px!important}.uk-padding-medium-bottom\@l{padding-bottom:40px!important}.uk-padding-large-top\@l{padding-top:70px!important}.uk-padding-large-bottom\@l{padding-bottom:70px!important}}.sc-only span{font-size:1!important;line-height:1!important;text-indent:-1px;position:absolute;width:0;height:0;padding:0;margin:-1000px;overflow:hidden;border:0}.uk-button{border-radius:3px;font-family:Maven Pro,Helvetica,Arial,sans-serif!important}.uk-button-success{background-color:#4caf50;color:#fff!important}.uk-button-success:hover{background-color:#388e3c;color:#eceff1!important}.card-brand{border-top:3px solid #f8981c}.text-background{line-height:1.75em;padding:2px 10px;color:#3c3c3c!important;border-radius:3px;white-space:nowrap!important}.text-background-red{background-color:rgba(255,205,210,.5)}.text-background-orange{background-color:rgba(255,224,178,.5)}.text-background-yellow{background-color:rgba(255,249,196,.5)}.text-background-green{background-color:rgba(200,230,201,.5)}.text-background-blue{background-color:rgba(187,222,251,.5)}.text-background-indigo{background-color:rgba(232,234,246,.5)}.text-background-violet{background-color:rgba(243,229,245,.5)}section h4.uk-heading-line{font-size:1.15rem;font-weight:700!important;font-family:Maven Pro,sans-serif!important}section h5.{font-size:1rem;font-weight:600!important;margin:0 auto 12px!important}@media (min-width:640px){section h4.uk-heading-line,section h5{font-size:1.25rem}}@media (min-width:768px){section h4.uk-heading-line{font-size:1.25rem}section h5{font-size:1rem}}html{font-size:16px!important}@media screen and (min-width:640px){html{font-size:calc(16px + 6*(100vw - 320px)/680)!important}}@media screen and (min-width:1000px){html{font-size:18px!important}}h1,h3{font-weight:400!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important}h4,h5,li,p{font-weight:400;-webkit-font-kerning:normal;font-kerning:normal}h2,h4,h5,li,p{font-family:Open Sans,Helvetica,sans-serif}h2{font-size:1.5rem;margin-bottom:0!important;padding-bottom:0!important;font-weight:400!important}h2.content-title,header h2{font-family:Maven Pro,Helvetica,Arial,sans-serif!important;font-weight:500!important}.content-lead,h2.content-title{text-align:left}.content-lead{font-size:1.125rem!important;color:#6c6c6c}@media (min-width:640px){h2.content-title{padding-left:50px;padding-right:50px}.content-lead,h2.content-title{text-align:center}}.uk-article-meta{font-size:10px!important}h3.uk-card-title{font-weight:400!important}@media (min-width:640px){h2{font-size:1.55rem!important}.header-lead{font-size:1.35rem!important}}@media (min-width:960px){h2{font-size:1.75rem!important}.header-lead{font-size:1.5rem!important}}h5{padding-bottom:6px!important;font-weight:600!important}h5,h6{margin-bottom:0!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important}h6{font-size:.879rem;padding-bottom:0!important;font-weight:400!important}.uk-breadcrumb li a,.uk-breadcrumb li span{font-size:11px!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important}.uk-breadcrumb li span{font-weight:600!important}.uk-breadcrumb>:nth-child(n+2):not(.uk-first-column):before{content:"/";display:inline-block;margin:0 8px;color:#aaa}h3.uk-section-title{font-size:1.35rem;margin:50px auto 35px!important;font-weight:400!important}.uk-h1,.uk-h2,.uk-h3,.uk-h4{font-family:Maven Pro,Helvetica,Arial,sans-serif!important;font-weight:500!important}.uk-h6{font-size:10px!important;text-transform:uppercase!important}header.hero-cta{height:40%;min-height:600px}.uk-slideshow-items{min-height:600px!important;height:40%!important}p.case-study-label{font-weight:400!important;font-family:Maven Pro,Helvetica,Arial,sans-serif!important;text-transform:uppercase;color:#fff!important}.case-study-header-title{font-size:1.75rem!important;font-weight:600!important;color:#fff!important}.uk-button.pink{color:pink!important}@media (max-width:640px){header{height:200px!important;min-height:200px!important}p.case-study-label{font-weight:400!important;text-transform:uppercase;color:#fff!important;font-size:7px}.uk-slideshow-items{min-height:200px!important;height:200px!important}.case-study-header-title{font-size:12px!important;font-weight:600!important;margin:0!important;padding:0!important}.uk-button-small{font-size:9px!important;line-height:9px!important;margin:5px auto!important;padding:5px!important}}.page-header h2{font-size:1.5rem!important;font-weight:500!important}.page-header p{font-size:1.25rem!important;font-weight:200!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important}@media (min-width:640px){.page-header{text-align:left}.page-header h2{font-size:2.25rem!important;font-weight:500!important}}.post-content h2{font-family:Maven Pro,Helvetica,Arial,sans-serif!important;font-weight:500!important;margin-top:32px!important;margin-bottom:16px!important}.post-content h5{font-size:1.125rem;margin:0;padding:1em 0}.post-content h6{text-align:center;font-weight:600;margin:0;padding:1em 0}.post-content p{margin:0 0 .75rem;padding:0}.post-content a{color:#000;text-decoration:underline}.post-content a.uk-button{color:#fff;text-decoration:none}.post-content em{color:#666}.post-content p>img+em{display:block;width:100%;text-align:center!important;font-size:14px!important;margin-top:.5em}.post-content blockquote{padding-left:48px;padding-right:48px}.post-content blockquote h3{color:#666!important;font-weight:400}.post-content hr{margin:0}.post-content .content-box{border:1px solid #d9d9d9;border-radius:3px;padding:25px!important}.blogMainImage{width:100%;object-fit:cover;object-position:center}.contentEmbed{padding:0;margin:30px 0;border-top:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9}footer,footer h3{margin:0;padding:0}label{margin-top:35px!important;font-size:.879rem}.contact-form h4{color:#fff!important}.uk-notification-message{background-color:#1d1f21}.uk-notification-message,.uk-notification-message-danger{font-size:16px;text-align:center;color:#dfdfdf;border-radius:3px;box-shadow:2px 2px 10px rgba(0,0,0,.3)}.uk-notification-message-danger{background-color:#e53935}.email-received,.uk-modal-dialog{position:absolute!important;z-index:1001!important;top:0!important;left:0!important;right:0!important;bottom:0!important;height:100%!important;width:100%!important;background-color:#49839a!important}.top-wrap-height{height:80vh!important;min-height:460px;-webkit-transition:height .25s;transition:height .25s}.about-section h1{font-size:1.65rem}.about-section p.uk-text-lead{font-size:1.25rem;font-weight:400!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important;color:#666}.about-profile-header{width:100%}img.bio-image{min-width:100vw;height:100%!important;object-fit:cover!important}.about-profile-content p{padding-left:48px!important;padding-right:48px!important}@media (min-width:640px){.about-profile-content p{padding-left:160px!important;padding-right:160px!important}}section.modal-bio{border-style:none;overflow-y:scroll;-webkit-overflow-scrolling:touch}section.modal-bio .uk-close{position:absolute;top:60px!important;right:0!important;z-index:1}section.modal-bio button section.modal-bio a{margin-bottom:102px}.skills-tabs a{font-size:.75rem;font-weight:400}.skills-tabs .uk-tab:before{border-style:none!important}.skills-case-study-buttons a{margin-right:16px!important}.skills-tabs .uk-active a{color:#888!important;border-width:2px;border-color:#f8981c!important}.skills-tabs{margin:32px auto}.skills-content img{object-fit:cover!important;width:100%}.skills-content{box-shadow:0 30px 40px -20px rgba(0,0,0,.05)}.skills-content ul{padding:0!important;background-color:initial;line-height:1em}.skills-content ul li{padding:8px 0;font-size:.879em}.skills-content ul li:hover{background-color:#f8f8f8}.skills-content ul li small{color:#999}.skills-content .uk-card,.skills-content .uk-card-header{border-radius:4px 4px 0 0!important}.skills-content .uk-card-header p{color:#37474f;font-family:Maven Pro,serif;font-weight:600;text-transform:capitalize;text-align:center}.skills-content .case-study-list a{display:block;text-decoration:none;color:#666}.skills-section h4{margin-bottom:14px!important}.skills-section h4,.skills-section h5{font-family:Open Sans,Helvetica,Arial,sans-serif!important}.skills-section h5{color:#6c6c6c!important;margin:0 auto 12px!important;font-weight:400!important}.skills-section .uk-text-lead{font-weight:300}.skills-content li{font-family:Open Sans,Helvetica,Arial,sans-serif!important;color:#6c6c6c!important;margin:0 auto 6px!important}.mobile-skills-content-box{position:relative;background-color:#fff;margin:-64px 12px 40px!important;padding:16px!important;box-shadow:0 3px 10px 0 rgba(0,0,0,.1)}.case-study-link{font-size:.75rem;color:#999}.client-grid img{filter:grayscale(100%) opacity(70%);-webkit-filter:grayscale(100%) opacity(70%);-webkit-transition:-webkit-filter .75s;transition:-webkit-filter .75s;transition:filter .75s;transition:filter .75s,-webkit-filter .75s}.client-grid img:hover{filter:grayscale(0) opacity(100%);-webkit-filter:grayscale(0) opacity(100%)}.testimonials li p.uk-text-large{font-size:1.2rem!important;margin-bottom:1.5rem;font-family:Bitter,Georgia,Garamond,Times New Roman,serif;font-style:italic}.testimonials li p{font-size:12px;margin:0;padding:0}.portfolio-list small{font-size:12px!important;color:#ababab!important;padding:0!important}.portfolio-items .uk-card-media-top img{border-radius:2px}.portfolio-items .uk-h3{font-weight:500!important}.portfolio-header{text-align:left}@media (min-width:640px){.portfolio-header{text-align:center}}.portfolio-detail h5{font-family:Maven Pro,Helvetica,Arial,sans-serif!important;font-weight:500!important;margin-top:32px!important;margin-bottom:16px!important}.portfolio-detail .uk-label{font-size:9px!important;background-color:#f8f8f8!important;color:#90a4ae!important}.portfolio-detail h5:first-child{padding-top:0!important}.contentEmbed{margin-top:0!important;border-style:none!important}#priceModule .uk-card-header{font-size:1.5rem!important;font-weight:200;color:#000;border-style:none}#priceModule h3{font-size:1.275rem}.service-cost{font-size:1.75rem;font-weight:100}.service-cost span{font-size:3.5rem;font-weight:200;color:#333}.rates-content i{color:#f8981c;margin-top:24px!important}article,aside{padding-left:20px;padding-right:20px}aside{padding-bottom:100px}article{padding-bottom:35px}aside progress{margin-top:0!important}.skills-list h3,.work-experience h3{margin-top:50px!important;text-transform:uppercase;font-weight:400}.skills-list h3:first-child,.work-experience h3:first-child{margin-top:0!important}.uk-article-meta{font-size:12px!important}article h5,aside.skills-list h5{text-transform:uppercase;font-weight:500;font-size:12px!important}aside.skills-list .uk-text-small{font-size:11px!important}article .title{margin-bottom:15px}.work-experience .uk-article-title{margin-top:35px;font-size:1.5rem!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important;color:#2c2c2c}.work-experience .uk-article-meta{font-family:Open Sans,Helvetica,Arial,sans-serif!important;text-transform:uppercase;margin:0!important;padding:0!important}.work-experience .uk-text-lead{font-size:1.124rem!important}.uk-progress{height:3px!important;margin-bottom:.5rem;background-color:rgba(0,0,0,.23)}*+.uk-progress{margin-top:.25rem}.uk-progress.one::-webkit-progress-value{background-color:#26c6da}.uk-progress.one::-moz-progress-bar{background-color:#26c6da}.uk-progress.one::-ms-fill{background-color:#26c6da}.uk-progress.two::-webkit-progress-value{background-color:#faa05a}.uk-progress.two::-moz-progress-bar{background-color:#faa05a}.uk-progress.two::-ms-fill{background-color:#faa05a}.uk-progress.three::-webkit-progress-value{background-color:#32d296}.uk-progress.three::-moz-progress-bar{background-color:#32d296}.uk-progress.three::-ms-fill{background-color:#32d296}.uk-progress.four::-webkit-progress-value{background-color:#9c27b0}.uk-progress.four::-moz-progress-bar{background-color:#9c27b0}.uk-progress.four::-ms-fill{background-color:#9c27b0}.uk-progress.five::-webkit-progress-value{background-color:#ef5350}.uk-progress.five::-moz-progress-bar{background-color:#ef5350}.uk-progress.five::-ms-fill{background-color:#ef5350}.uk-progress.six::-webkit-progress-value{background-color:#90a4ae}.uk-progress.six::-moz-progress-bar{background-color:#90a4ae}.uk-progress.six::-ms-fill{background-color:#90a4ae}</style><meta name="generator" content="Gatsby 2.19.16"/><title data-react-helmet="true">A Simple React Hook to Prompt iOS Users to Install Your Wonderful PWA.</title><link data-react-helmet="true" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/css/uikit.min.css"/><script data-react-helmet="true" async="" src="//cdn.embedly.com/widgets/platform.js" charSet="UTF-8"></script><link rel="icon" href="/icons/icon-48x48.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#37474f"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=55610aeb3dd863a2e1d4c2fae0739ff8"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-9396407c8101c41a5b7c.js"/><link as="script" rel="preload" href="/app-e1cb72a636ec3c10d813.js"/><link as="script" rel="preload" href="/styles-54001d8a54d9266fe5ef.js"/><link as="script" rel="preload" href="/commons-928da970d8a349279f77.js"/><link as="script" rel="preload" href="/component---src-templates-blog-detail-js-28362a831d66459b2943.js"/><link as="fetch" rel="preload" href="/page-data/blog/prompt-ios/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="navbar-container" data-uk-sticky="true"><div class="anim-nav-container uk-hidden@s" style="background:rgb(236, 239, 241, 0);width:80px;height:60px;z-index:1000"><div style="margin-top:8px" class="uk-padding-small uk-position-fixed uk-position-z-index"><span class="uk-float-left false" data-uk-icon="icon: menu; ratio: 0.9"></span><small class="uk-float-left uk-text-middle false">  <!-- -->MENU</small></div></div><nav class="uk-navbar-container" data-uk-navbar="true"><div class="uk-navbar-center uk-hidden@s"><a class="uk-navbar-item uk-logo" href="/"><img src="/static/astro-logo-3658d8d298d3420a1167cc5934bc3ca7.svg" width="60px" alt="Astro Logo" data-uk-image="true"/></a></div><div class="uk-navbar-left uk-margin-medium-left uk-visible@s"><a class="home-icon uk-link-muted uk-link-reset" href="/"><i data-uk-icon="icon: arrow-left; ratio: 0.95;"></i><i data-uk-icon="icon: home; ratio: 0.75;"></i></a></div><div class="uk-navbar-center uk-margin-medium-right uk-visible@s"><ul class="uk-navbar-nav"><li><a href="/portfolio">Work</a></li><li><a href="/resume">Resume</a></li><li><a class="uk-navbar-item uk-logo uk-visible@s" href="/"><img src="/static/astro-logo-3658d8d298d3420a1167cc5934bc3ca7.svg" width="55px" alt="Astro logo" data-uk-image="true"/></a></li><li><a href="/blog">Waste</a></li><li><a href="/contact">Contact</a></li></ul></div></nav></div><section class="uk-section uk-article"><div class="uk-container uk-container-small"><p class="uk-text-bold uk-h2 uk-margin-remove-adjacent uk-margin-remove-top">A Simple React Hook to Prompt iOS Users to Install Your Wonderful PWA.</p><p class="uk-article-meta">Posted on <!-- -->January 20, 2020</p><p class="uk-text-lead uk-margin-bottom">Or, “HAHA, why isn’t this thing working?!”</p></div><div class="uk-container uk-section uk-padding-small"><div class="uk-position-relative"><img class="blogMainImage" src="//images.ctfassets.net/1nc0h0ipk4bl/7Dr8d2rxVpEvbqB21qHYjW/003dc2e93d261100b11793be2fe7be53/hero.png" data-src="//images.ctfassets.net/1nc0h0ipk4bl/7Dr8d2rxVpEvbqB21qHYjW/003dc2e93d261100b11793be2fe7be53/hero.png" data-uk-img="true" alt="A Simple React Hook to Prompt iOS Users to Install Your Wonderful PWA."/></div></div><div class="post-content uk-container uk-container-small"><h3>First, a little backstory</h3><p>A couple of years ago, I left the advertising agency world to focus on launching my startup, while subsidizing my income by freelancing. When I finally got around to setting up my site I decided to try my hand at React.</p><p><img alt="screen-roll" src="//images.ctfassets.net/1nc0h0ipk4bl/6YZrB11zuva32aZwgryH6L/fbcbe5a3300df8737e851d14e2ec7cff/screen-roll.png"/></p><h6><em>It should be easy to turn your website into a PWA, right?</em></h6><p>Once I did that, the next obvious step was to make it an installable PWA, because <em>the future of mobile apps</em> is just a simple matter of adding a site manifest and some icons.</p><p>Easy right?</p><h3>Small annoyance. Huge impact.</h3><p>Although recent versions of iOS have better support for PWA’s, there’s still no built in prompt for users to install the app, as is present on Android. This all but defeats the purpose of an installable web app simply for the reason that iOS users won’t know they can install it!</p><p><img alt="1 L0kz9p1y L63UWM9PUb9gw" src="//images.ctfassets.net/1nc0h0ipk4bl/3dcdEzMXVy1UH9nHY4VcV9/fede87b376272e003071260ab35b76af/1_L0kz9p1y_L63UWM9PUb9gw.png"/></p><h6><em>Android v. iOS: targeting a similar experience on different devices.</em></h6><h4>Anyway,</h4><p>Here’s a little React hook to deliver an “Add to Home Screen,” notification to iOS users. I’m sure there’s a better way to do this, but thought I’d share what works for me.</p><p>Okay, let’s start coding.</p><hr/><h3>The Hook</h3><p>The whole point of this hook is to load a notification <em>only for Safari on iOS,</em> so we’re going to create a new file called <code>useIsIOS.js</code>. In this code we’re going to do a few things:</p><ul><li>Check if someone is viewing our app on an iOS device.</li><li>Are they using mobile Safari?</li><li>Have they <em>not</em> been prompted to install the app before?</li></ul><p>If all of the above is <code>true</code>, then we’ll send them a prompt to install the app and, in the background, store a <code>hasBeenPrompted</code> item in browser localStorage with a timestamp.</p><p>We’ll start with creating a state for <code>isIOS</code> with <code>useState</code>.</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">// useIsIOS.js</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token" style="color:#a9b7c6">{</span>useState<span class="token" style="color:#a9b7c6">,</span> useEffect<span class="token" style="color:#a9b7c6">}</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span>

<span class="token module" style="color:#cc7832">export</span> <span class="token module" style="color:#cc7832">default</span> <span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">useIsIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
  <span class="token" style="color:#cc7832">const</span> <span class="token" style="color:#a9b7c6">[</span>isIOS<span class="token" style="color:#a9b7c6">,</span> setIsIOS<span class="token" style="color:#a9b7c6">]</span> <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">useState</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

  <span class="token" style="color:#ffc66d">useEffect</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token" style="color:#a9b7c6">{</span>
      <span class="token" style="color:#ffc66d">setIsIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
      <span class="token" style="color:#cc7832">return</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token console class-name">console</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">log</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&quot;CLEANUP INSTALL PROMPT&quot;</span><span class="token" style="color:#a9b7c6">,</span> isIOS<span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">,</span> <span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

  <span class="token" style="color:#cc7832">return</span> isIOS<span class="token" style="color:#a9b7c6">;</span>
<span class="token" style="color:#a9b7c6">}</span></code></pre><p>This is pretty simple:</p><ul><li><code>const[isIOS, setIsIOS] = useState({});</code> initializes a state — similar to <code>setState</code> in class function. On init, the state is an empty object by setting<code>useState({})</code>.</li><li>Then we use <code>useEffect</code> to do our checks from above.</li></ul><p>At the moment, this does nothing except for try to run the <code>checkForIOS()</code> function. So let’s update our file to make it work!</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">//useIsIOS.js</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token" style="color:#a9b7c6">{</span>useState<span class="token" style="color:#a9b7c6">,</span> useEffect<span class="token" style="color:#a9b7c6">}</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> moment <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;moment&quot;</span><span class="token" style="color:#a9b7c6">;</span> <span class="token" style="color:#808080">// &lt;-- new</span>

<span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
  <span class="token" style="color:#cc7832">const</span> today <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">moment</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">toDate</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#cc7832">const</span> lastPrompt <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">moment</span><span class="token" style="color:#a9b7c6">(</span><span class="token dom" style="color:#9876aa">localStorage</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">getItem</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&quot;installPrompt&quot;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#cc7832">const</span> days <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">moment</span><span class="token" style="color:#a9b7c6">(</span>today<span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">diff</span><span class="token" style="color:#a9b7c6">(</span>lastPrompt<span class="token" style="color:#a9b7c6">,</span> <span class="token" style="color:#6a8759">&quot;days&quot;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

  <span class="token spread" style="color:#a9b7c6">...</span>
<span class="token" style="color:#a9b7c6">}</span></code></pre><p>We’ll install moment.js <code>npm install --save moment</code>, then import moment into our hook. We’re using moment to set &amp; check timestamps to see if and when a user has been invited to install our app.</p><p>Getting into our <code>checkForIOS()</code> function, we’ll start by setting some variables, using moment, including a timestamp for <code>today</code>, <code>lastPrompt</code> (if it exists), and finally, the number of <code>days</code> since we last prompted our visitor to install the app.</p><p><img alt="astro-logo-setch" src="//images.ctfassets.net/1nc0h0ipk4bl/V0bfb8neABn9Xn4zVji62/0f350694cc1dc45aeacce36bf05dbb02/astro-logo-setch.png"/></p><h6><em>A quick sketch of Astro turned logo, turned splash screen.</em></h6><p>Looking at <code>lastPrompt</code>, you’ll see we’re trying to get an “installPrompt” key from the browser localStorage. If it exists, we use <code>moment()</code> to convert it into a <code>Date</code> object, otherwise it returns <code>undefined</code>. Perfect!</p><p>Next, have a look at <code>days</code>. This is where we’re checking the time difference, in days, of today compared to the last time the user was prompted to install our app. If they haven’t been prompted before, then we prompt them now!</p><h3>Check for devices, browser, and OS</h3><p>I tried a few different options, but this seems to be the most reliable method for identifying Safari and device types on iOS. We’re updating our <code>checkForIOS()</code> function with some old-school, pedantic JavaScript.</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">//useIsIOS.js</span>

<span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
  <span class="token" style="color:#cc7832">const</span> ua <span class="token" style="color:#a9b7c6">=</span> <span class="token dom" style="color:#9876aa">window</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">navigator</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">userAgent</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#cc7832">const</span> webkit <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">WebKit</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#cc7832">const</span> isIPad <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">iPad</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#cc7832">const</span> isIPhone <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">iPhone</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span>
  <span class="token" style="color:#cc7832">const</span> isIOS <span class="token" style="color:#a9b7c6">=</span> isIPad <span class="token" style="color:#a9b7c6">||</span> isIPhone<span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#cc7832">const</span> isSafari <span class="token" style="color:#a9b7c6">=</span> isIOS <span class="token" style="color:#a9b7c6">&amp;&amp;</span> webkit <span class="token" style="color:#a9b7c6">&amp;&amp;</span> <span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">CriOS</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token" style="color:#a9b7c6">}</span></code></pre><h6>Typical JS.</h6><blockquote><p>It’s important to ensure that our iOS visitor is using Safari because iOS doesn’t permit other browsers to install our awesome PWA’s!</p></blockquote><h3>Do we prompt?</h3><p>Now that we have our timestamp and device info, we can check if we should send our website visitors a notification to install our PWA.</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
  <span class="token spread" style="color:#a9b7c6">...</span>

  <span class="token" style="color:#cc7832">const</span> prompt <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#ffc66d">isNaN</span><span class="token" style="color:#a9b7c6">(</span>days<span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">||</span> days <span class="token" style="color:#a9b7c6">&gt;</span> <span class="token" style="color:#6897bb">30</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">&amp;&amp;</span> isIOS <span class="token" style="color:#a9b7c6">&amp;&amp;</span> isSafari<span class="token" style="color:#a9b7c6">;</span>

  <span class="token" style="color:#cc7832">if</span> <span class="token" style="color:#a9b7c6">(</span>prompt <span class="token" style="color:#a9b7c6">&amp;&amp;</span> <span class="token" style="color:#6a8759">&quot;localStorage&quot;</span> <span class="token" style="color:#cc7832">in</span> <span class="token dom" style="color:#9876aa">window</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
      <span class="token dom" style="color:#9876aa">localStorage</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">setItem</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&quot;installPrompt&quot;</span><span class="token" style="color:#a9b7c6">,</span> today<span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#a9b7c6">}</span>

  <span class="token" style="color:#cc7832">return</span> <span class="token" style="color:#a9b7c6">{</span>isIOS<span class="token" style="color:#a9b7c6">,</span> isSafari<span class="token" style="color:#a9b7c6">,</span> prompt<span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token" style="color:#a9b7c6">}</span></code></pre><p>Looking at our <code>prompt</code> variable, we’re saying:</p><ul><li>“if our visitor has no stored timestamp — <code>isNaN(days)</code> — or we haven’t notified them to install our PWA in over 30 days,</li><li>“and, they’re viewing our website on an iOS device,</li><li>“and, they’re using the Safari browser,</li><li>then set <code>prompt</code> to true”</li></ul><p>Depending on whether our visitor meets all the criteria, <code>prompt</code> will return true or false.</p><p>And finally, if <code>prompt</code> is true then save the current timestamp, <code>today</code>, in the browser’s <code>localStorage</code> so we don’t continue to annoy our visitors with the notification popup to install our PWA.</p><p><img alt="prompt-zoom" src="//images.ctfassets.net/1nc0h0ipk4bl/6aO97xHH70Yc55pkifr42t/2456d82b9be30525c176899511a6f3f8/prompt-zoom.png"/></p><h6><em>Our invitation to install should be clear and instructive, without being intrusive.</em></h6><h3>One more thing</h3><p>Okay this is all great, but what if our visitor has already installed our awesome PWA, and is viewing our app there, <em>not via iOS Safari browser</em>?</p><p>We just need to add a little bit of code:</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
  <span class="token" style="color:#cc7832">if</span> <span class="token" style="color:#a9b7c6">(</span><span class="token dom" style="color:#9876aa">navigator</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">standalone</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
    <span class="token" style="color:#cc7832">return</span> <span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">;</span>
  <span class="token" style="color:#a9b7c6">}</span>
  <span class="token spread" style="color:#a9b7c6">...</span>
<span class="token" style="color:#a9b7c6">}</span></code></pre><h6>Is it Safari or PWA?</h6><p>The <code>navigator.standalone</code> check is asking, “is our visitor using the mobile Safari browser, or the installed PWA?” If this check returns <code>false</code> then everything stops. This means visitors who’ve installed, and use, our awesome PWA, will not get the notification to install.</p><p>After all of that, here’s what our final React hook looks like:</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#cc7832">import</span> <span class="token" style="color:#a9b7c6">{</span>useState<span class="token" style="color:#a9b7c6">,</span> useEffect<span class="token" style="color:#a9b7c6">}</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> moment <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;moment&quot;</span><span class="token" style="color:#a9b7c6">;</span>

<span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
    <span class="token" style="color:#cc7832">if</span> <span class="token" style="color:#a9b7c6">(</span><span class="token dom" style="color:#9876aa">navigator</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">standalone</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
      <span class="token" style="color:#cc7832">return</span> <span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#a9b7c6">}</span>
    <span class="token" style="color:#cc7832">const</span> today <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">moment</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">toDate</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> lastPrompt <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">moment</span><span class="token" style="color:#a9b7c6">(</span><span class="token dom" style="color:#9876aa">localStorage</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">getItem</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&quot;installPrompt&quot;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> days <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">moment</span><span class="token" style="color:#a9b7c6">(</span>today<span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">diff</span><span class="token" style="color:#a9b7c6">(</span>lastPrompt<span class="token" style="color:#a9b7c6">,</span> <span class="token" style="color:#6a8759">&quot;days&quot;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> ua <span class="token" style="color:#a9b7c6">=</span> <span class="token dom" style="color:#9876aa">window</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">navigator</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">userAgent</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> webkit <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">WebKit</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> isIPad <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">iPad</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> isIPhone <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">iPhone</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span>
    <span class="token" style="color:#cc7832">const</span> isIOS <span class="token" style="color:#a9b7c6">=</span> isIPad <span class="token" style="color:#a9b7c6">||</span> isIPhone<span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#cc7832">const</span> isSafari <span class="token" style="color:#a9b7c6">=</span> isIOS <span class="token" style="color:#a9b7c6">&amp;&amp;</span> webkit <span class="token" style="color:#a9b7c6">&amp;&amp;</span> <span class="token" style="color:#a9b7c6">!</span>ua<span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">match</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="background:#364135"><span class="token regex-delimiter">/</span><span class="token language-regex">CriOS</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

    <span class="token" style="color:#cc7832">const</span> prompt <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#ffc66d">isNaN</span><span class="token" style="color:#a9b7c6">(</span>days<span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">||</span> days <span class="token" style="color:#a9b7c6">&gt;</span> <span class="token" style="color:#6897bb">30</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">&amp;&amp;</span> isIOS <span class="token" style="color:#a9b7c6">&amp;&amp;</span> isSafari<span class="token" style="color:#a9b7c6">;</span>

    <span class="token" style="color:#cc7832">if</span> <span class="token" style="color:#a9b7c6">(</span>prompt <span class="token" style="color:#a9b7c6">&amp;&amp;</span> <span class="token" style="color:#6a8759">&quot;localStorage&quot;</span> <span class="token" style="color:#cc7832">in</span> <span class="token dom" style="color:#9876aa">window</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
      <span class="token dom" style="color:#9876aa">localStorage</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">setItem</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&quot;installPrompt&quot;</span><span class="token" style="color:#a9b7c6">,</span> today<span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#a9b7c6">}</span>

    <span class="token" style="color:#cc7832">return</span> <span class="token" style="color:#a9b7c6">{</span>isIOS<span class="token" style="color:#a9b7c6">,</span> isSafari<span class="token" style="color:#a9b7c6">,</span> prompt<span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token" style="color:#a9b7c6">}</span>

<span class="token module" style="color:#cc7832">export</span> <span class="token module" style="color:#cc7832">default</span> <span class="token" style="color:#cc7832">function</span> <span class="token" style="color:#ffc66d">useIsIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token" style="color:#a9b7c6">{</span>
    <span class="token" style="color:#cc7832">const</span> <span class="token" style="color:#a9b7c6">[</span>isIOS<span class="token" style="color:#a9b7c6">,</span> setIsIOS<span class="token" style="color:#a9b7c6">]</span> <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">useState</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

    <span class="token" style="color:#ffc66d">useEffect</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token" style="color:#a9b7c6">{</span>
      <span class="token" style="color:#ffc66d">setIsIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#ffc66d">checkForIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
      <span class="token" style="color:#cc7832">return</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token console class-name">console</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">log</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&quot;CLEANUP INSTALL PROMPT&quot;</span><span class="token" style="color:#a9b7c6">,</span> isIOS<span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>
    <span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">,</span> <span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

    <span class="token" style="color:#cc7832">return</span> isIOS<span class="token" style="color:#a9b7c6">;</span>
<span class="token" style="color:#a9b7c6">}</span></code></pre><h3>The Modal</h3><p>Here’s where we make our notification. In my case, I had to use a custom <code>useModal</code> hook for my purposes, but there are a ton of useModal hook examples out there, so choose whatever suits you best.</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">//InstallPWA.js</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token maybe-class-name">React</span><span class="token" style="color:#a9b7c6">,</span> <span class="token" style="color:#a9b7c6">{</span> useEffect <span class="token" style="color:#a9b7c6">}</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token maybe-class-name">Modal</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;../Modal&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token" style="color:#a9b7c6">{</span> useModal <span class="token" style="color:#a9b7c6">}</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;../Hooks/useModal&quot;</span><span class="token" style="color:#a9b7c6">;</span>

<span class="token module" style="color:#cc7832">import</span> <span class="token" style="color:#6a8759">&quot;./PWA.css&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> image <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;../../images/LogoMark.png&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> share <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;../../images/AppleShare.png&quot;</span><span class="token" style="color:#a9b7c6">;</span>

<span class="token module" style="color:#cc7832">export</span> <span class="token" style="color:#cc7832">const</span> <span class="token function-variable" style="color:#ffc66d"><span class="token maybe-class-name">InstallPWA</span></span> <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#a9b7c6">(</span><span class="token parameter"><span class="token" style="color:#a9b7c6">{</span><span class="token spread" style="color:#a9b7c6">...</span>props<span class="token" style="color:#a9b7c6">}</span></span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token" style="color:#a9b7c6">{</span>
    <span class="token" style="color:#cc7832">const</span> <span class="token" style="color:#a9b7c6">[</span>modalOpen<span class="token" style="color:#a9b7c6">,</span> setModalOpen<span class="token" style="color:#a9b7c6">,</span> toggleModal<span class="token" style="color:#a9b7c6">]</span> <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">useModal</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

    <span class="token" style="color:#ffc66d">useEffect</span><span class="token" style="color:#a9b7c6">(</span>
        <span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token" style="color:#a9b7c6">{</span>
          <span class="token" style="color:#ffc66d">setModalOpen</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">true</span><span class="token" style="color:#a9b7c6">)</span>
        <span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">,</span> <span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span>
    <span class="token" style="color:#a9b7c6">)</span>
    <span class="token" style="color:#cc7832">return</span> <span class="token" style="color:#a9b7c6">(</span>
          <span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Modal</span>
              isActive<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span>modalOpen<span class="token" style="color:#a9b7c6">}</span>
              className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;notification-card&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
              <span class="token" style="color:#a9b7c6">&lt;</span>div className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-container uk-container-small uk-flex uk-flex-middle uk-flex-center uk-height-1-1&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
                  <span class="token" style="color:#a9b7c6">&lt;</span>div style<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">{</span>maxWidth<span class="token" style="color:#a9b7c6">:</span> <span class="token" style="color:#6a8759">&quot;400px&quot;</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">}</span> className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-card uk-card-default uk-card-body&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span>div style<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">{</span>marginTop<span class="token" style="color:#a9b7c6">:</span> <span class="token" style="color:#6a8759">&quot;-50px&quot;</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">}</span> className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-text-center&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
                          <span class="token" style="color:#a9b7c6">&lt;</span>img
                              src<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span>image<span class="token" style="color:#a9b7c6">}</span>
                              className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-border-rounded&quot;</span>
                              height<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;72&quot;</span>
                              width<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;72&quot;</span>
                              alt<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;Install PWA&quot;</span>
                              <span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>div<span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span>div className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-margin-top uk-text-center&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
                          <span class="token" style="color:#a9b7c6">&lt;</span>h3<span class="token" style="color:#a9b7c6">&gt;</span><span class="token maybe-class-name">Install</span> <span class="token maybe-class-name">Bevyho</span><span class="token" style="color:#a9b7c6">!</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>h3<span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>div<span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span>p className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-h4 uk-text-muted uk-text-center uk-margin-remove-top&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span><span class="token maybe-class-name">Install</span> <span class="token" style="color:#cc7832">this</span> application on your homescreen <span class="token" style="color:#cc7832">for</span> a better experience<span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>p<span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span>div className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-text-center&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
                          <span class="token" style="color:#a9b7c6">&lt;</span>p className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-text-small&quot;</span><span class="token" style="color:#a9b7c6">&gt;</span>
                          <span class="token maybe-class-name">Tap</span>
                          <span class="token" style="color:#a9b7c6">&lt;</span>img
                              src<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span>share<span class="token" style="color:#a9b7c6">}</span>
                              style<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">{</span>margin<span class="token" style="color:#a9b7c6">:</span> <span class="token" style="color:#6a8759">&quot;auto 4px 8px&quot;</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">}</span>
                              className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-display-inline-block&quot;</span>
                              alt<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;Add to homescreen&quot;</span>
                              height<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;20&quot;</span>
                              width<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;20&quot;</span>
                              <span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span>
                          then <span class="token" style="color:#a9b7c6">&amp;</span>quot<span class="token" style="color:#a9b7c6">;</span><span class="token maybe-class-name">Add</span> to <span class="token maybe-class-name">Home</span> <span class="token maybe-class-name">Screen</span><span class="token" style="color:#a9b7c6">&amp;</span>quot<span class="token" style="color:#a9b7c6">;</span>
                          <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>p<span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>div<span class="token" style="color:#a9b7c6">&gt;</span>
                      <span class="token" style="color:#a9b7c6">&lt;</span>button className<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;uk-button button-minimal&quot;</span> onClick<span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token" style="color:#ffc66d">setModalOpen</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span class="token maybe-class-name">Close</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>button<span class="token" style="color:#a9b7c6">&gt;</span>
                  <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>div<span class="token" style="color:#a9b7c6">&gt;</span>
              <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span>div<span class="token" style="color:#a9b7c6">&gt;</span>
          <span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span class="token maybe-class-name">Modal</span><span class="token" style="color:#a9b7c6">&gt;</span>
      <span class="token" style="color:#a9b7c6">)</span>
  <span class="token" style="color:#a9b7c6">}</span></code></pre><h6>My modal code. Feel free to take, or use your own. :-)</h6><h3>The Usage</h3><p>Simply import the useIsIOS hook and <code>InstallPWA</code> component and away we go!</p><pre style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">//Home.js or whatever</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token maybe-class-name">React</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> useIsIOS <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;../Hooks/useIsIOS&quot;</span><span class="token" style="color:#a9b7c6">;</span>
<span class="token module" style="color:#cc7832">import</span> <span class="token" style="color:#a9b7c6">{</span><span class="token maybe-class-name">InstallPWA</span><span class="token" style="color:#a9b7c6">}</span> <span class="token module" style="color:#cc7832">from</span> <span class="token" style="color:#6a8759">&quot;../InstallPWA&quot;</span><span class="token" style="color:#a9b7c6">;</span>

<span class="token" style="color:#cc7832">const</span> <span class="token function-variable" style="color:#ffc66d"><span class="token maybe-class-name">Home</span></span> <span class="token" style="color:#a9b7c6">=</span> <span class="token parameter">props</span> <span class="token arrow" style="color:#a9b7c6">=&gt;</span> <span class="token" style="color:#a9b7c6">{</span>
    <span class="token" style="color:#cc7832">const</span> <span class="token" style="color:#a9b7c6">{</span> prompt <span class="token" style="color:#a9b7c6">}</span> <span class="token" style="color:#a9b7c6">=</span> <span class="token" style="color:#ffc66d">useIsIOS</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span>

    <span class="token" style="color:#cc7832">return</span> <span class="token" style="color:#a9b7c6">(</span>
        <span class="token spread" style="color:#a9b7c6">...</span>
        <span class="token" style="color:#a9b7c6">{</span>prompt <span class="token" style="color:#a9b7c6">&amp;&amp;</span> <span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">InstallPWA</span> <span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span class="token" style="color:#a9b7c6">}</span>
        <span class="token spread" style="color:#a9b7c6">...</span>
    <span class="token" style="color:#a9b7c6">)</span>
<span class="token" style="color:#a9b7c6">}</span>
<span class="token module" style="color:#cc7832">export</span> <span class="token module" style="color:#cc7832">default</span> <span class="token maybe-class-name">Home</span><span class="token" style="color:#a9b7c6">;</span></code></pre><p>In this example, we’re loading our install prompt in the home page component with <code>const { prompt } = useIsIOS();</code></p><p>Doing this provides the <code>prompt = true/false</code> state to our component. Awesome, right?</p><p>So now, we can easily load our notification prompt with:</p><p><code>{prompt &amp;&amp; &lt;InstallPWA /&gt;}</code></p><p>This effectively says, “If our visitor is using an iOS device, <em>and</em> they are using mobile Safari, <em>and</em> they haven’t been prompted in the last 30 days, <strong>and</strong> they’re not visiting our site from our installed PWA, then show them a prompt to “Add to Home Screen”.</p><h5>Finally, a thank you,</h5><p>For reading all the way to the bottom of the page. I hope this was helpful to at least one person. Feel free to comment with questions, revelations, insults, etc.</p><p>Here’s a link to the source code on GitHub:</p><h5>MichaelLisboa/react-portfolio-site</h5><p><a href="https://github.com/MichaelLisboa/react-portfolio-site">https://github.com/MichaelLisboa/react-portfolio-site</a></p></div></section><section class="contact-section uk-section uk-section-expand uk-background-secondary uk-light"><div class="uk-container uk-container-small" data-uk-scrollspy="cls: uk-animation-slide-bottom-medium; target: div &gt; *; repeat: true;"><div class="uk-width-3-5@s"><p class="uk-h6 uk-text-muted uk-margin-small-bottom uk-text-uppercase"><strong>—</strong> Let&#x27;s do great things</p><p class="uk-h2 uk-margin-remove-top"><span class="uk-margin-bottom uk-display-block">Get in touch to talk about your next project.</span></p></div></div></section><section class="uk-section uk-section-expand uk-margin-remove-top uk-padding-remove uk-background-secondary uk-light"><div class="uk-container uk-container-small" uk-scrollspy="cls: uk-animation-fade; delay: 500;"><div class="uk-grid-medium uk-child-width-1-2@m" data-uk-grid="true"><div><p class="uk-h4">Create experiences that people love.</p><p>I work with future-thinking brands, agencies and startups looking to create the next killer product or campaign.</p><p>If that sounds like you, get in touch.</p><div class="uk-width-1-1 uk-margin-medium-top" data-uk-grid="true"><div class="sc-only uk-width-1-1" data-uk-grid="true"><div class="uk-align-left"><a href="https://www.linkedin.com/in/lisboa/" class="uk-icon-button uk-margin-right" data-uk-icon="linkedin"><span>LinkedIn</span></a><a href="http://michael_lisboa.dribbble.com/" class="uk-icon-button uk-margin-right" data-uk-icon="dribbble"><span>Dribbble</span></a><a href="https://github.com/MichaelLisboa" class="uk-icon-button uk-margin-right" data-uk-icon="github"><span>GitHub</span></a><a href="https://www.instagram.com/michael__lisboa/" class="uk-icon-button" data-uk-icon="instagram"><span>Instagram</span></a></div></div></div></div><div><p class="uk-h4"><span class="uk-float-left uk-margin-small-right" data-uk-icon="icon: mail; ratio: 1.75"></span><span>Send an email</span></p><form id="contactForm" class="uk-form"><fieldset class="uk-fieldset"><div class="uk-margin-small-top"><label for="first_name" class="uk-text-muted">First name <input type="text" name="first_name" value="" class="uk-input uk-form-large " maxLength="75" required=""/></label></div><div class="uk-margin-small-top"><label for="last_name" class="uk-text-muted">Last name <input type="text" name="last_name" value="" class="uk-input uk-form-large " maxLength="75" required=""/></label></div><div class="uk-margin-small-top"><label for="from_email" class="uk-text-muted">Email address <input type="text" name="from_email" value="" class="uk-input uk-form-large " maxLength="100" required=""/></label></div><div class="uk-margin-small-top"><label for="comment" class="uk-text-muted">Your message <textarea name="comment" rows="3" class="uk-textarea uk-form-large " maxLength="1000" required=""></textarea></label></div><div class="uk-margin-large-bottom uk-margin-medium-top uk-text-right"><button type="submit" class="uk-button uk-button-large uk-button-default uk-width-1-2 uk-width-1-3@s" disabled="">Send</button></div></fieldset></form></div></div></div></section><footer class="uk-container uk-container-expand uk-margin-remove-top uk-padding-remove uk-background-secondary uk-light"><div class="uk-container uk-container-expand uk-padding-remove uk-margin-remove-vertical"><div class="uk-text-center uk-padding uk-padding-remove-horizontal"><span class="uk-text-small uk-text-light">©2020 Michael Lisboa •  <a href="/contact"><span data-uk-icon="icon: mail; ratio: 0.75"></span> Contact me</a></span></div></div></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-137372309-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/prompt-ios";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e1cb72a636ec3c10d813.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-9edabb9556448a6822d1.js"],"component---src-templates-blog-detail-js":["/component---src-templates-blog-detail-js-28362a831d66459b2943.js"],"component---src-templates-portfolio-detail-js":["/component---src-templates-portfolio-detail-js-136726437bb2ba38da3b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-60cca99eea748634fd7a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-d37173c0f7af32058598.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-2c8917a6db607ccc9da0.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c6eb829eb008ccd0a151.js"],"component---src-pages-portfolio-js":["/component---src-pages-portfolio-js-bd820bdf4161c76f2565.js"],"component---src-pages-rates-js":["/component---src-pages-rates-js-829b44ae8b29d9ff9ea3.js"],"component---src-pages-resume-js":["/component---src-pages-resume-js-9e6f46418a3b3ca8fba0.js"]};/*]]>*/</script><script src="/component---src-templates-blog-detail-js-28362a831d66459b2943.js" async=""></script><script src="/commons-928da970d8a349279f77.js" async=""></script><script src="/styles-54001d8a54d9266fe5ef.js" async=""></script><script src="/app-e1cb72a636ec3c10d813.js" async=""></script><script src="/webpack-runtime-9396407c8101c41a5b7c.js" async=""></script></body></html>